PORT=8080
NODE_ENV=development
CORS_ORIGIN=*
LOG_LEVEL=info

JWT_SECRET=change_me
JWT_ISSUER=erp-phase2
JWT_AUDIENCE=erp-web

ODBC_CONNECTION_STRING=

PERMISSIONS_JSON_PATH=./config/permissions.json

# Phase 3 Auth
ENABLE_DEV_TOKEN=true
ACCESS_TOKEN_TTL=2h
REFRESH_TOKEN_TTL=7d
PASSWORD_STRATEGY=plain   # plain | sha256

# Locked user table mapping (auto-detected from reload.sql â€“ verify)
USER_TABLE=HR.dbs_s_employe
USER_COL_ID=user_id
USER_COL_NAME=user_name
USER_COL_PASSWORD=
USER_COL_ACTIVE=
USER_COL_ROLE=

# Optional user roles mapping if DB has no roles column:
USER_ROLES_JSON_PATH=./config/user_roles.json

USER_SECRETS_JSON_PATH=./config/user_secrets.json

DEFER_RBAC=true

AUDIT_FILE_PATH=./logs/audit.ndjson

AUDIT_DB_TABLE=

# These defaults are chosen to show LIVE data in most deployments.
INVENTORY_STORES_TABLE=DBA.car_store
INVENTORY_ITEMS_TABLE=DBA.sc_item

# CRM demo tables (override if yours differ)
CRM_CUSTOMERS_TABLE=DBA.Customer
CRM_FOLLOWUPS_TABLE=DBA.client_customer_followup

# Serve frontend build from backend (optional for single-port demo)
SERVE_FRONTEND=false
FRONTEND_DIST=../frontend/dist
INVENTORY_TRANSFER_HDR_TABLE=DBA.car_transfer_header
INVENTORY_TRANSFER_DTL_TABLE=DBA.car_transfer_detail

# Serve built frontend from backend (single-port demo)
SERVE_FRONTEND=false
# FRONTEND_DIST=../frontend/dist

